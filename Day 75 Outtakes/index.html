<!DOCTYPE html>
<html>
<head>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.3.11/d3.min.js"></script>
  <script src="/js/gAnalytics.js"></script>
</head>
<body>
  <input type="number" id="brushSize" value="10"></input>
  <input type="number" id="opacity" value=".5"></input>
  <button id="reset">Reset</button>
<script type="text/javascript">
  var width = $(window).width(),
      height = $(window).height();

    var svg = d3.select("body").append("svg")
        .attr("width", width)
        .attr("height", height)
        .on("mousedown", mouseDown)
        .on("mouseup", mouseUp)

    function mouseDown () {
      svg.on('mousemove', function () {
        var coordinates = d3.mouse(this);
      var drawStroke = svg.append("circle")
            .attr("cx", coordinates[0])
            .attr("cy", coordinates[1])
            .attr("r", size)
            .attr("stroke-width", 1)
            .attr("fill", color)
            .attr("opacity", opacity)

          console.log(drawStroke)
      })
    }

    function mouseUp () {
      svg.on("mousemove", null)
    }
    var color = function () {
      return "blue"
    }
    var size = $('#brushSize').val()
    var opacity = $('#opacity').val()
    $(document).ready(function () {
      $('#brushSize').change(function () {
          size = $('#brushSize').val()
      }) 
      $('#opacity').change(function () {
          opacity = $('#opacity').val()
      }) 
      $('#reset').click(function () { 
          svg.selectAll("*").remove();
      })
    })

  
</script>
</body>
</html>
